<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HANAI LAB - Luyện Tập Tiếng Trung</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel (để biên dịch mã React ngay trên trình duyệt) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* Animation tùy chỉnh */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.4s ease-out forwards;
        }
        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- BỘ ICON SVG TRỰC TIẾP (Không cần thư viện ngoài) ---
        // Mỗi icon là một component React thuần túy trả về SVG
        
        const BookOpen = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
                <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
            </svg>
        );

        const PenTool = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M12 19l7-7 3 3-7 7-3-3z"></path>
                <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
                <path d="M2 2l7.586 7.586"></path>
                <circle cx="11" cy="11" r="2"></circle>
            </svg>
        );

        const Settings = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.09a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path>
                <circle cx="12" cy="12" r="3"></circle>
            </svg>
        );

        const HelpCircle = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <circle cx="12" cy="12" r="10"></circle>
                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                <line x1="12" y1="17" x2="12.01" y2="17"></line>
            </svg>
        );

        const Copy = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
        );

        const ExternalLink = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                <polyline points="15 3 21 3 21 9"></polyline>
                <line x1="10" y1="14" x2="21" y2="3"></line>
            </svg>
        );

        const RefreshCw = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polyline points="23 4 23 10 17 10"></polyline>
                <polyline points="1 20 1 14 7 14"></polyline>
                <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
            </svg>
        );

        const Check = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
        );

        const X = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        );

        const ChevronRight = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
        );

        const Layout = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="3" y1="9" x2="21" y2="9"></line>
                <line x1="9" y1="21" x2="9" y2="9"></line>
            </svg>
        );

        // --- DỮ LIỆU & LOGIC ỨNG DỤNG ---

        const Logo = () => (
            <div className="flex items-center gap-3">
                <img 
                    src="https://res.cloudinary.com/dylnm79id/image/upload/v1769343424/Kho%CC%82ng_ne%CC%82%CC%80n_ev0wrm.png" 
                    alt="Trung tâm Logo" 
                    className="h-12 w-auto object-contain"
                />
                <div className="hidden md:block">
                    <h1 className="text-xl font-bold text-slate-800 tracking-tight">HANAI LAB</h1>
                    <p className="text-xs text-blue-600 font-medium uppercase tracking-wider">Công cụ luyện tập thông minh</p>
                </div>
            </div>
        );

        const INITIAL_DATA = [
            { hanzi: "你好", pinyin: "nǐ hǎo", meaning: "xin chào" },
            { hanzi: "老师", pinyin: "lǎoshī", meaning: "giáo viên" },
            { hanzi: "学生", pinyin: "xuésheng", meaning: "học sinh" },
            { hanzi: "谢谢", pinyin: "xièxie", meaning: "cảm ơn" }
        ];

        const AI_PROMPT = `Tôi có một danh sách từ vựng tiếng Trung cần luyện tập. Hãy giúp tôi chuyển đổi chúng thành định dạng dữ liệu để nhập vào phần mềm.
YÊU CẦU:
1. Đọc nội dung tôi cung cấp bên dưới (có thể là chữ Hán, hoặc kèm nghĩa/pinyin).
2. Nếu thiếu Pinyin hoặc Nghĩa, hãy tự động bổ sung cho đầy đủ và chính xác.
3. QUAN TRỌNG: Chỉ trả về kết quả dưới dạng JSON thuần túy (không có markdown block, không có lời dẫn).

Cấu trúc JSON bắt buộc:
[
  { "hanzi": "chữ hán", "pinyin": "phiên âm", "meaning": "nghĩa tiếng việt" }
]

Nội dung từ vựng của tôi là:
[HÃY DÁN CÁC TỪ VỰNG CỦA BẠN VÀO ĐÂY, VÍ DỤ: "爱, 北京, 快乐"]`;

        function App() {
            const [activeTab, setActiveTab] = useState('dashboard');
            const [vocabList, setVocabList] = useState(INITIAL_DATA);
            const [rawInput, setRawInput] = useState(JSON.stringify(INITIAL_DATA, null, 2));
            
            const [currentIndex, setCurrentIndex] = useState(0);
            const [userAnswer, setUserAnswer] = useState('');
            const [feedback, setFeedback] = useState(null);
            const [stats, setStats] = useState({ correct: 0, total: 0 });

            useEffect(() => {
                setFeedback(null);
                setUserAnswer('');
                setCurrentIndex(0);
                setStats({ correct: 0, total: 0 });
            }, [activeTab]);

            const handleImport = () => {
                try {
                    let cleanInput = rawInput.trim();
                    if (cleanInput.startsWith('```json')) {
                        cleanInput = cleanInput.replace(/^```json/, '').replace(/```$/, '');
                    } else if (cleanInput.startsWith('```')) {
                        cleanInput = cleanInput.replace(/^```/, '').replace(/```$/, '');
                    }

                    const parsed = JSON.parse(cleanInput);
                    if (Array.isArray(parsed) && parsed.length > 0 && parsed[0].hanzi) {
                        setVocabList(parsed);
                        alert('Đã nhập dữ liệu thành công! Bạn có thể bắt đầu luyện tập.');
                        setActiveTab('dashboard');
                    } else {
                        alert('Cấu trúc dữ liệu không hợp lệ. Vui lòng kiểm tra lại.');
                    }
                } catch (e) {
                    alert('Lỗi định dạng JSON. Vui lòng đảm bảo bạn chỉ copy phần code JSON từ Gemini.');
                }
            };

            const copyPromptToClipboard = () => {
                const textArea = document.createElement("textarea");
                textArea.value = AI_PROMPT;
                textArea.style.position = "fixed";
                textArea.style.left = "-9999px";
                textArea.style.top = "0";
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                
                try {
                    const successful = document.execCommand('copy');
                    if (successful) {
                        alert('Đã sao chép câu lệnh! Hãy dán vào Gemini.');
                    } else {
                        alert('Không thể sao chép tự động. Vui lòng bôi đen và copy thủ công.');
                    }
                } catch (err) {
                    console.error('Fallback: Oops, unable to copy', err);
                    alert('Lỗi sao chép: Vui lòng bôi đen và copy thủ công.');
                }
                
                document.body.removeChild(textArea);
            };

            const checkAnswer = (type) => {
                const currentItem = vocabList[currentIndex];
                let isCorrect = false;

                if (type === 'hanzi') {
                    isCorrect = userAnswer.trim() === currentItem.hanzi;
                } else {
                    const userNorm = userAnswer.toLowerCase().trim();
                    const meaningNorm = currentItem.meaning.toLowerCase().trim();
                    isCorrect = userNorm === meaningNorm || meaningNorm.includes(userNorm); 
                }

                setFeedback(isCorrect ? 'correct' : 'incorrect');
                if (isCorrect) {
                    setStats(prev => ({ ...prev, correct: prev.correct + 1 }));
                }
                setStats(prev => ({ ...prev, total: prev.total + 1 }));
            };

            const nextQuestion = () => {
                if (currentIndex < vocabList.length - 1) {
                    setCurrentIndex(prev => prev + 1);
                    setUserAnswer('');
                    setFeedback(null);
                } else {
                    alert(`Hoàn thành bài tập! Điểm số: ${stats.correct}/${vocabList.length}`);
                    setCurrentIndex(0);
                    setUserAnswer('');
                    setFeedback(null);
                    setStats({ correct: 0, total: 0 });
                }
            };

            const renderDashboard = () => (
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 animate-fade-in">
                    <div 
                        onClick={() => setActiveTab('practice-hanzi')}
                        className="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 cursor-pointer hover:shadow-lg hover:border-blue-200 transition-all group"
                    >
                        <div className="w-12 h-12 bg-blue-50 rounded-full flex items-center justify-center mb-4 group-hover:bg-blue-100 text-blue-600">
                            <PenTool size={24} />
                        </div>
                        <h3 className="font-bold text-lg text-slate-800 mb-2">Luyện Viết Chữ Hán</h3>
                        <p className="text-slate-500 text-sm">Nhìn Pinyin & Nghĩa để gõ lại chữ Hán chính xác.</p>
                    </div>

                    <div 
                        onClick={() => setActiveTab('practice-meaning')}
                        className="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 cursor-pointer hover:shadow-lg hover:border-emerald-200 transition-all group"
                    >
                        <div className="w-12 h-12 bg-emerald-50 rounded-full flex items-center justify-center mb-4 group-hover:bg-emerald-100 text-emerald-600">
                            <BookOpen size={24} />
                        </div>
                        <h3 className="font-bold text-lg text-slate-800 mb-2">Luyện Nghĩa Từ</h3>
                        <p className="text-slate-500 text-sm">Nhìn mặt chữ Hán để đoán nghĩa tiếng Việt.</p>
                    </div>

                    <div 
                        onClick={() => setActiveTab('setup')}
                        className="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 cursor-pointer hover:shadow-lg hover:border-purple-200 transition-all group"
                    >
                        <div className="w-12 h-12 bg-purple-50 rounded-full flex items-center justify-center mb-4 group-hover:bg-purple-100 text-purple-600">
                            <Settings size={24} />
                        </div>
                        <h3 className="font-bold text-lg text-slate-800 mb-2">Soạn Bài Với AI</h3>
                        <p className="text-slate-500 text-sm">Tự động tạo bộ từ vựng mới thông qua Gemini.</p>
                    </div>

                    <div 
                        onClick={() => setActiveTab('guide')}
                        className="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 cursor-pointer hover:shadow-lg hover:border-orange-200 transition-all group"
                    >
                        <div className="w-12 h-12 bg-orange-50 rounded-full flex items-center justify-center mb-4 group-hover:bg-orange-100 text-orange-600">
                            <HelpCircle size={24} />
                        </div>
                        <h3 className="font-bold text-lg text-slate-800 mb-2">Hướng Dẫn</h3>
                        <p className="text-slate-500 text-sm">Cách sử dụng công cụ hiệu quả nhất.</p>
                    </div>
                </div>
            );

            const renderPractice = (mode) => {
                const currentItem = vocabList[currentIndex];
                const isHanziMode = mode === 'hanzi';
                const progress = ((currentIndex + 1) / vocabList.length) * 100;

                return (
                    <div className="max-w-2xl mx-auto animate-fade-in">
                        <div className="w-full bg-slate-200 rounded-full h-2 mb-6">
                            <div className="bg-blue-600 h-2 rounded-full transition-all duration-300" style={{ width: `${progress}%` }}></div>
                        </div>

                        <div className="bg-white rounded-3xl shadow-xl overflow-hidden border border-slate-100">
                            <div className="bg-slate-50 p-6 border-b border-slate-100 flex justify-between items-center">
                                <span className="text-slate-500 font-medium">Câu {currentIndex + 1} / {vocabList.length}</span>
                                <span className="text-blue-600 font-bold bg-blue-50 px-3 py-1 rounded-full text-sm">
                                    {isHanziMode ? 'Gõ Chữ Hán' : 'Gõ Nghĩa'}
                                </span>
                            </div>

                            <div className="p-8 text-center space-y-6">
                                <div className="space-y-2">
                                    {isHanziMode ? (
                                        <React.Fragment>
                                            <div className="text-3xl font-medium text-slate-700">{currentItem.pinyin}</div>
                                            <div className="text-xl text-slate-500">{currentItem.meaning}</div>
                                        </React.Fragment>
                                    ) : (
                                        <React.Fragment>
                                            <div className="text-6xl font-bold text-slate-800 mb-2">{currentItem.hanzi}</div>
                                            <div className="text-xl text-slate-500">{currentItem.pinyin}</div>
                                        </React.Fragment>
                                    )}
                                </div>

                                <div className="relative">
                                    <input 
                                        type="text" 
                                        value={userAnswer}
                                        onChange={(e) => setUserAnswer(e.target.value)}
                                        onKeyDown={(e) => e.key === 'Enter' && !feedback && checkAnswer(mode)}
                                        disabled={feedback !== null}
                                        className={`w-full text-center text-2xl p-4 border-2 rounded-xl outline-none transition-all
                                            ${feedback === 'correct' ? 'border-green-500 bg-green-50 text-green-700' : 
                                            feedback === 'incorrect' ? 'border-red-500 bg-red-50 text-red-700' : 
                                            'border-slate-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100'}`}
                                        placeholder={isHanziMode ? "Nhập chữ Hán..." : "Nhập nghĩa tiếng Việt..."}
                                    />
                                    
                                    {feedback === 'correct' && (
                                        <div className="absolute right-4 top-1/2 -translate-y-1/2 text-green-500 animate-bounce">
                                            <Check size={28} />
                                        </div>
                                    )}
                                    {feedback === 'incorrect' && (
                                        <div className="absolute right-4 top-1/2 -translate-y-1/2 text-red-500 animate-pulse">
                                            <X size={28} />
                                        </div>
                                    )}
                                </div>

                                {feedback === 'incorrect' && (
                                    <div className="bg-red-50 p-4 rounded-lg text-red-700 text-sm animate-fade-in">
                                        <span className="font-bold">Đáp án đúng:</span> {isHanziMode ? currentItem.hanzi : currentItem.meaning}
                                    </div>
                                )}
                            </div>

                            <div className="p-6 bg-slate-50 border-t border-slate-100 flex justify-center">
                                {feedback === null ? (
                                    <button 
                                        onClick={() => checkAnswer(mode)}
                                        className="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-xl transition-all shadow-md shadow-blue-200 active:scale-95"
                                    >
                                        Kiểm tra
                                    </button>
                                ) : (
                                    <button 
                                        onClick={nextQuestion}
                                        className="w-full bg-slate-800 hover:bg-slate-900 text-white font-bold py-3 px-8 rounded-xl transition-all shadow-md active:scale-95 flex items-center justify-center gap-2"
                                    >
                                        Câu tiếp theo <ChevronRight size={20} />
                                    </button>
                                )}
                            </div>
                        </div>
                    </div>
                );
            };

            const renderSetup = () => (
                <div className="max-w-4xl mx-auto space-y-6 animate-fade-in">
                    <div className="bg-blue-600 text-white p-6 rounded-2xl shadow-lg relative overflow-hidden">
                        <div className="relative z-10">
                            <h2 className="text-2xl font-bold mb-2">Bước 1: Chuẩn bị dữ liệu</h2>
                            <p className="opacity-90 mb-4">Dùng Gemini để chuyển đổi danh sách từ vựng của bạn thành bài tập tương tác.</p>
                            <div className="flex flex-wrap gap-3">
                                <button 
                                    onClick={copyPromptToClipboard}
                                    className="flex items-center gap-2 bg-white text-blue-600 px-4 py-2 rounded-lg font-bold hover:bg-blue-50 transition-colors"
                                >
                                    <Copy size={18} /> Sao chép Câu lệnh (Prompt)
                                </button>
                                <a 
                                    href="https://gemini.google.com/app" 
                                    target="_blank" 
                                    rel="noreferrer"
                                    className="flex items-center gap-2 bg-blue-700 text-white px-4 py-2 rounded-lg font-bold hover:bg-blue-800 transition-colors border border-blue-500"
                                >
                                    <ExternalLink size={18} /> Mở Google Gemini
                                </a>
                            </div>
                        </div>
                        <div className="absolute top-0 right-0 w-64 h-64 bg-white opacity-10 rounded-full -translate-y-1/2 translate-x-1/2"></div>
                    </div>

                    <div className="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
                        <h2 className="text-xl font-bold text-slate-800 mb-4">Bước 2: Nhập dữ liệu</h2>
                        <p className="text-slate-500 text-sm mb-2">Dán kết quả (đoạn mã JSON) mà Gemini trả về vào ô bên dưới:</p>
                        <textarea
                            value={rawInput}
                            onChange={(e) => setRawInput(e.target.value)}
                            className="w-full h-64 p-4 font-mono text-sm bg-slate-50 border border-slate-300 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"
                            placeholder='[ { "hanzi": "...", "pinyin": "...", "meaning": "..." } ]'
                        ></textarea>
                        <div className="mt-4 flex justify-end">
                            <button 
                                onClick={handleImport}
                                className="flex items-center gap-2 bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-3 rounded-xl font-bold transition-all shadow-md shadow-emerald-200"
                            >
                                <RefreshCw size={18} /> Cập nhật Bộ Từ Vựng
                            </button>
                        </div>
                    </div>
                </div>
            );

            const renderGuide = () => (
                <div className="max-w-3xl mx-auto bg-white p-8 rounded-2xl shadow-sm border border-slate-200 animate-fade-in">
                    <h2 className="text-2xl font-bold text-slate-800 mb-6 flex items-center gap-2">
                        <HelpCircle className="text-blue-600" /> Hướng dẫn sử dụng
                    </h2>
                    
                    <div className="space-y-8">
                        <div className="flex gap-4">
                            <div className="w-10 h-10 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-bold shrink-0">1</div>
                            <div>
                                <h3 className="font-bold text-lg text-slate-800">Lấy dữ liệu từ AI</h3>
                                <p className="text-slate-600 mt-1">
                                    Truy cập mục <strong>"Soạn Bài Với AI"</strong>. Nhấn nút <strong>"Sao chép Câu lệnh"</strong> để copy mẫu câu lệnh chuẩn.
                                </p>
                            </div>
                        </div>

                        <div className="flex gap-4">
                            <div className="w-10 h-10 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-bold shrink-0">2</div>
                            <div>
                                <h3 className="font-bold text-lg text-slate-800">Gửi lệnh cho Gemini</h3>
                                <p className="text-slate-600 mt-1">
                                    Nhấn nút <strong>"Mở Google Gemini"</strong>. Dán câu lệnh vừa copy, sau đó <strong>nhập danh sách từ vựng bạn muốn học</strong> vào cuối câu lệnh (thay thế phần "HÃY DÁN CÁC TỪ VỰNG...") rồi nhấn gửi.
                                </p>
                            </div>
                        </div>

                        <div className="flex gap-4">
                            <div className="w-10 h-10 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-bold shrink-0">3</div>
                            <div>
                                <h3 className="font-bold text-lg text-slate-800">Nhập dữ liệu vào Tool</h3>
                                <p className="text-slate-600 mt-1">
                                    Gemini sẽ trả về một danh sách từ vựng được định dạng chuẩn. Hãy copy toàn bộ đoạn mã đó (thường bắt đầu bằng dấu ngoặc vuông <code>[</code>). Quay lại công cụ này, dán vào ô nhập liệu và nhấn <strong>"Cập nhật Bộ Từ Vựng"</strong>.
                                </p>
                            </div>
                        </div>

                        <div className="flex gap-4">
                            <div className="w-10 h-10 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-bold shrink-0">4</div>
                            <div>
                                <h3 className="font-bold text-lg text-slate-800">Bắt đầu luyện tập</h3>
                                <p className="text-slate-600 mt-1">
                                    Chọn chế độ <strong>"Luyện Viết"</strong> hoặc <strong>"Luyện Nghĩa"</strong> từ màn hình chính để bắt đầu bài học.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            );

            return (
                <div className="min-h-screen bg-slate-50 font-sans text-slate-800 pb-12">
                    {/* Header */}
                    <header className="bg-white border-b border-slate-200 sticky top-0 z-50">
                        <div className="container mx-auto px-4 h-16 flex items-center justify-between">
                            <div 
                                className="cursor-pointer hover:opacity-80 transition-opacity" 
                                onClick={() => setActiveTab('dashboard')}
                            >
                                <Logo />
                            </div>
                            
                            <nav className="hidden md:flex items-center gap-1 bg-slate-100 p-1 rounded-lg">
                                {['dashboard', 'setup', 'practice-hanzi', 'practice-meaning', 'guide'].map((tab) => {
                                    const labels = {
                                        dashboard: 'Trang chủ',
                                        setup: 'Soạn bài AI',
                                        'practice-hanzi': 'Luyện Chữ',
                                        'practice-meaning': 'Luyện Nghĩa',
                                        guide: 'Hướng dẫn'
                                    };
                                    const isActive = activeTab === tab;
                                    return (
                                        <button
                                            key={tab}
                                            onClick={() => setActiveTab(tab)}
                                            className={`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${
                                                isActive 
                                                ? 'bg-white text-blue-600 shadow-sm' 
                                                : 'text-slate-500 hover:text-slate-800'
                                            }`}
                                        >
                                            {labels[tab]}
                                        </button>
                                    );
                                })}
                            </nav>

                             {/* Mobile Menu Icon Placeholder */}
                             <div className="md:hidden">
                                <button onClick={() => setActiveTab('dashboard')} className="p-2 text-slate-600">
                                   <Layout size={24} />
                                </button>
                             </div>
                        </div>
                    </header>

                    {/* Main Content */}
                    <main className="container mx-auto px-4 py-8">
                        {activeTab === 'dashboard' && (
                            <div className="space-y-8">
                                <div className="text-center space-y-2 mb-12">
                                    <h2 className="text-3xl md:text-4xl font-bold text-slate-800">Chào mừng trở lại!</h2>
                                    <p className="text-slate-500 text-lg">Hôm nay bạn muốn luyện tập kỹ năng gì?</p>
                                    <div className="inline-block bg-blue-100 text-blue-700 px-4 py-1 rounded-full text-sm font-semibold mt-4">
                                        Đang có {vocabList.length} từ vựng trong bộ nhớ
                                    </div>
                                </div>
                                {renderDashboard()}
                            </div>
                        )}

                        {activeTab === 'setup' && (
                            <div>
                                <div className="flex items-center gap-2 mb-6">
                                    <button onClick={() => setActiveTab('dashboard')} className="text-slate-400 hover:text-blue-600">Trang chủ</button>
                                    <ChevronRight size={16} className="text-slate-300"/>
                                    <span className="font-semibold text-slate-800">Soạn Bài Với AI</span>
                                </div>
                                {renderSetup()}
                            </div>
                        )}

                        {activeTab === 'practice-hanzi' && (
                            <div>
                                <div className="flex items-center gap-2 mb-6">
                                    <button onClick={() => setActiveTab('dashboard')} className="text-slate-400 hover:text-blue-600">Trang chủ</button>
                                    <ChevronRight size={16} className="text-slate-300"/>
                                    <span className="font-semibold text-slate-800">Luyện Chữ Hán</span>
                                </div>
                                {renderPractice('hanzi')}
                            </div>
                        )}

                        {activeTab === 'practice-meaning' && (
                            <div>
                                <div className="flex items-center gap-2 mb-6">
                                    <button onClick={() => setActiveTab('dashboard')} className="text-slate-400 hover:text-blue-600">Trang chủ</button>
                                    <ChevronRight size={16} className="text-slate-300"/>
                                    <span className="font-semibold text-slate-800">Luyện Nghĩa Từ</span>
                                </div>
                                {renderPractice('meaning')}
                            </div>
                        )}

                        {activeTab === 'guide' && (
                            <div>
                                <div className="flex items-center gap-2 mb-6">
                                    <button onClick={() => setActiveTab('dashboard')} className="text-slate-400 hover:text-blue-600">Trang chủ</button>
                                    <ChevronRight size={16} className="text-slate-300"/>
                                    <span className="font-semibold text-slate-800">Hướng Dẫn</span>
                                </div>
                                {renderGuide()}
                            </div>
                        )}
                    </main>
                    
                    <footer className="text-center text-slate-400 py-6 text-sm">
                        © 2026 HANAI LAB. Được hỗ trợ bởi công nghệ AI.
                    </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
